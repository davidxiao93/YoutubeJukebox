<!doctype html>
<html lang="en">
<head>
    <!-- Heavily based on https://github.com/kevinchanquin/HTML-Material-Design-Player -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <meta name="HandheldFriendly" content="True">
    <title>Youtube Jukebox</title>

    <!-- Disable tap highlight on IE -->
    <meta name="msapplication-tap-highlight" content="no">

    <!-- Color the status bar on mobile devices -->
    <meta name="theme-color" content="#333333">

    <!-- material design lite resources -->
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.grey-green.min.css"/>
    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

    <!-- material design icons and font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

    <!-- stylesheets -->
    <link rel="stylesheet" href="static/styles/main.css">
    <link rel="stylesheet" href="static/styles/controller.css">
</head>
<body>
<div id="app" class="">
    <div class="column">
        <div class="player">
            <!-- controller -->
            <div class="controller-container">
                <div class="" style="justify-content: center;">

                    <!-- player -->
                    <main class="">
                        <!-- volume slider -->
                        <section class="mdl-card mdl-shadow--8dp mdl-layout__header-row card">
                            <button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect closebutton"
                                    id="volumemute">
                                <i class="material-icons" v-if="!now_playing.is_muted">volume_off</i>
                                <i class="material-icons" v-if="now_playing.is_muted">volume_up</i>
                            </button>
                            <p class="progresscontainer">
                                <input class="mdl-slider mdl-js-slider" type="range"
                                       min="0" max="100" tabindex="0" id="volume"
                                       v-model="now_playing.volume"
                                />
                            </p>
                            <h6 id="volume_value">{{ now_playing.volume }}%</h6>
                        </section>
                        <!-- album image and play/pause button -->
                        <section id="cover">
                            <img id="now_playing_art" :src="now_playing_thumbnail" style='width: 101%; object-fit: contain;max-height:60vh'>
                            <button class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored fab"
                                    id="statebutton">
                                <i class="material-icons">play_arrow</i>
                            </button>
                        </section>
                        <!-- title and artist-->
                        <section class="mdl-card mdl-shadow--8dp card textbackground" id="mediainfo">
                            <h3 id="title" class="textinfo light">{{ now_playing_title }}</h3>
                            <h4 id="author" class="textinfo light">{{ now_playing_artist }}</h4>
                        </section>

                        <!-- bottom section with progress bar and time -->
                        <section class="mdl-card mdl-shadow--8dp mdl-layout__header-row card">
                            <h6 id="progress_time">00:00</h6>
                            <p class="progresscontainer">
                                <input class="mdl-slider mdl-js-slider" type="range"
                                       min="0" max="1" value="1" tabindex="0" id="progress"/>
                            </p>
                            <h6 id="duration_time">{{ now_playing_duration }}</h6>
                        </section>
                    </main>
                </div>
            </div>
        </div>
    </div>
    <div class="column searchUI">
        <div class="searchContainer">
            <div>
                <!-- search bar -->
                <div class="searchBar">
                    <form>
                        <input type="text" id="inputText" placeholder="Search Youtube" autocomplete="off" required>
                        <button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect"
                                id="searchbutton">
                            <i class="material-icons">search</i>
                        </button>
                    </form>
                </div>
            </div>
            <div class="displayRow">
                <h6 class="displayTitle">Queue</h6>
                <!-- display new releases -->
                <div class="grid" id="newGrid">
                    <div v-for="(track, index) in queue.queue"
                         :id="index"
                         class='card-image mdl-card mdl-shadow--2dp grid-item button'
                         :style='{"background-image": track.thumbnail_url}'>
                        <div class='mdl-card__title mdl-card--expand'></div>
                        <div class='mdl-card__supporting-text'>
                            <span>{{ track.title }}</span>
                            <br>{{ track.artist }}
                        </div>
                    </div>
                    <div v-if="!queue.queue || queue.queue.length === 0">
                        No music in queue. Search to add some!
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js"
        integrity="sha512-aMGMvNYu8Ue4G+fHa359jcPb1u+ytAF+P2SCb+PxrjCdO3n3ZTxJ30zuH39rimUggmTwmh2u7wvQsDTHESnmfQ=="
        crossorigin="anonymous"></script>
<script src="https://unpkg.com/vue"></script>
<script src="static/scripts/main.js"></script>
<script src="static/scripts/controller.js"></script>

</body>
</html>